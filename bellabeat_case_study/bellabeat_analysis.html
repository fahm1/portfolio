
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Bellabeat Case Study &#8212; Fahmi&#39;s Portfolio</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=62ba249389abaaa9ffc34bf36a076bdc1d65ee18" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=f31d14ad54b65d19161ba51d4ffff3a77ae00456"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Note About Archived Projects" href="../archived_projects/note.html" />
    <link rel="prev" title="Bellabeat Case Study" href="bellabeat.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en">
    

    <!-- Google Analytics -->
    
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-JCPC4TP7JH"></script>
<script>
                    window.dataLayer = window.dataLayer || [];
                    function gtag(){ dataLayer.push(arguments); }
                    gtag('js', new Date());
                    gtag('config', 'G-JCPC4TP7JH');
                </script>

  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
      
      
      <h1 class="site-logo" id="site-title">Fahmi's Portfolio</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    Welcome to my Portfolio!
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Portfolio Projects
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="bellabeat.html">
   Bellabeat Case Study
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Bellabeat Notebook
    </a>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Archived Projects
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../archived_projects/note.html">
   Note About Archived Projects
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../archived_projects/troll_tweet_analysis/README.html">
   Russian Troll Tweet Analysis
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../archived_projects/troll_tweet_analysis/tweet_analysis_notebook.html">
     Tweet Analysis Notebook
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../archived_projects/movie_analysis/README.html">
   Movie Analysis
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../archived_projects/movie_analysis/movie_analysis.html">
     Movie Analysis Notebook
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../archived_projects/microbe_analysis/README.html">
   Microbe Analysis
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../archived_projects/microbe_analysis/microbe_analysis_notebook.html">
     Microbe Analysis Notebook
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../archived_projects/absenteeism_analysis/README.html">
   Absenteeism Analysis
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
  <label for="toctree-checkbox-5">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../archived_projects/absenteeism_analysis/absentee_analysis_preprocessing.html">
     Preprocessing Notebook
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../archived_projects/absenteeism_analysis/absentee_analysis_logistic_regression.html">
     Logistic Regression Notebook
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../archived_projects/absenteeism_analysis/absentee_integration.html">
     Integration Notebook
    </a>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<div class="menu-dropdown menu-dropdown-launch-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Launch interactive content">
      <i class="fas fa-rocket"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://mybinder.org/v2/gh/fahm1/Portfolio/main?urlpath=lab/tree/portfolio-book/bellabeat_case_study/bellabeat_analysis.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on Binder"
>
  

<span class="headerbtn__icon-container">
  
    <img src="../_static/images/logo_binder.svg">
  </span>
<span class="headerbtn__text-container">Binder</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-repository-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Source repositories">
      <i class="fab fa-github"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://github.com/fahm1/Portfolio"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="headerbtn__text-container">repository</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/fahm1/Portfolio/issues/new?title=Issue%20on%20page%20%2Fbellabeat_case_study/bellabeat_analysis.html&body=Your%20issue%20content%20here."
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Open an issue"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="headerbtn__text-container">open issue</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../_sources/bellabeat_case_study/bellabeat_analysis.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.ipynb</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#introduction">
   1. Introduction
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#ask">
   2. Ask
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#business-task">
     2.1 Business Task
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#stakeholders">
     2.2 Stakeholders
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#prepare">
   3. Prepare
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#dataset-information">
     3.1 Dataset Information
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#data-description">
     3.2 Data Description
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#data-integrity">
     3.3 Data Integrity
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#process">
   4. Process
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#import-libraries-and-read-in-data">
     4.1 Import Libraries and Read in Data
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#data-cleaning">
     4.2 Data Cleaning
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#merging-data">
     4.3 Merging Data
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#adding-relevant-columns">
     4.4 Adding Relevant Columns
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#analyze-and-share">
   5. Analyze and Share
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#activity-level-distribution">
     5.1 Activity Level Distribution
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#weekly-trends-in-steps-and-sleep">
     5.2 Weekly Trends in Steps and Sleep
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#daily-sleep-analysis">
       5.2.2 Daily Sleep Analysis
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#daily-trends-in-steps-and-calories">
     5.3 Daily Trends in Steps and Calories
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#daily-time-of-device-usage">
     5.4 Daily Time of Device Usage
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#act">
   6. Act
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Bellabeat Case Study</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#introduction">
   1. Introduction
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#ask">
   2. Ask
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#business-task">
     2.1 Business Task
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#stakeholders">
     2.2 Stakeholders
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#prepare">
   3. Prepare
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#dataset-information">
     3.1 Dataset Information
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#data-description">
     3.2 Data Description
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#data-integrity">
     3.3 Data Integrity
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#process">
   4. Process
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#import-libraries-and-read-in-data">
     4.1 Import Libraries and Read in Data
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#data-cleaning">
     4.2 Data Cleaning
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#merging-data">
     4.3 Merging Data
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#adding-relevant-columns">
     4.4 Adding Relevant Columns
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#analyze-and-share">
   5. Analyze and Share
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#activity-level-distribution">
     5.1 Activity Level Distribution
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#weekly-trends-in-steps-and-sleep">
     5.2 Weekly Trends in Steps and Sleep
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#daily-sleep-analysis">
       5.2.2 Daily Sleep Analysis
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#daily-trends-in-steps-and-calories">
     5.3 Daily Trends in Steps and Calories
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#daily-time-of-device-usage">
     5.4 Daily Time of Device Usage
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#act">
   6. Act
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <a class="reference internal image-reference" href="../_images/bellabeat_banner.png"><img alt="../_images/bellabeat_banner.png" class="align-left" src="../_images/bellabeat_banner.png" style="width: 100%;" /></a>
<section class="tex2jax_ignore mathjax_ignore" id="bellabeat-case-study">
<h1>Bellabeat Case Study<a class="headerlink" href="#bellabeat-case-study" title="Permalink to this headline">#</a></h1>
<p><strong>Name:</strong> Fahmi I.<br />
<strong>Date:</strong> June 8th, 2022</p>
<p>This analysis will be broken down into 6 distinct phases:</p>
<ol class="simple">
<li><p><strong>Introduction</strong> - Introduce the company and their products.</p></li>
<li><p><strong>Ask</strong> - Identify the business problem at hand and how insights from the data can drive business decisions.</p></li>
<li><p><strong>Prepare</strong> - Identify and gather relevant data and organize all files.</p></li>
<li><p><strong>Process</strong> - Use tools to glean basic information from the data while cleaning up and validating the data.</p></li>
<li><p><strong>Analyze and Share</strong> - Perform calculations, identify trends and relationships, and create visualizations to tackle the business question.</p></li>
<li><p><strong>Act</strong> - Provide final recommendations for the business and how to move forward by making data-driven decisions.</p></li>
</ol>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>A table of contents for this notebook can be found on the top-right corner of this page.</p>
</div>
<hr class="docutils" />
<!-- ## <span style="color:#FA8072">Table of Contents</span>

* [1. Introduction](#Introduction)
* [2. Ask Phase](#Ask-Phase)
* [3. Prepare Phase](#Prepare-Phase)
    * [3.1 Business Task](#Business-Task)
* [4. Process Phase](#Process-Phase)
* [5. Analyze and Share Phase](#Analyze-and-Share-Phase)
* [6. Act Phase](#Act-Phase)

--- --><section id="introduction">
<h2>1. Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">#</a></h2>
<p>Bellabeat is a small high-tech manufacturer of health-focused products with dreams to become a larger player in the global <a class="reference external" href="https://en.wikipedia.org/wiki/Smart_device">smart device</a> industry.
The main focus of this case study is to analyze the health data collected from smart devices to determine new growth opportunities for the company.</p>
<p>Here is a brief overview the company’s products:</p>
<aside class="margin sidebar">
<p class="sidebar-title"></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The Bellabeat Leaf, Time, and Spring all communicate through the app to provide users with personalized recommendations and detailed statistics.</p>
</div>
</aside>
<ul class="simple">
<li><p><strong>Bellabeat App:</strong> A mobile app that tracks users’ health data and provides personalized recommendations based on the data.</p></li>
<li><p><strong>Bellabeat Membership:</strong> A subscription service that gives members 24/7 access to personalized recommendations on nutrition, activity, sleep, health, and beauty based on their lifestyle and goals.</p></li>
<li><p><strong>Leaf</strong>: A wellness tracker that can be worn as a bracelet, necklace, or clip to record user activity, sleep, and stress.</p></li>
<li><p><strong>Time</strong>: A wellness watch that looks like a classic watch while also tracking user activity, sleep, and stress.</p></li>
<li><p><strong>Spring</strong>: A smart water bottle that can be used to track user hydration and water intake.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="ask">
<h2>2. Ask<a class="headerlink" href="#ask" title="Permalink to this headline">#</a></h2>
<section id="business-task">
<h3>2.1 Business Task<a class="headerlink" href="#business-task" title="Permalink to this headline">#</a></h3>
<p>Analyze <strong>non-Bellabeat</strong> smart device usage to gain insight on how consumers use their smart devices and discover trends that could be used to improve Bellabeat’s marketing strategy.</p>
<p>Guiding Questions:</p>
<ol class="simple">
<li><p>What are some trends in smart device usage?</p></li>
<li><p>How could these trends apply to Bellabeat customers?</p></li>
<li><p>How could these trends help influence Bellabeat’s marketing strategy?</p></li>
</ol>
</section>
<section id="stakeholders">
<h3>2.2 Stakeholders<a class="headerlink" href="#stakeholders" title="Permalink to this headline">#</a></h3>
<p>As insights from this case study will influence Bellabeat’s marketing strategy, the following stakeholders will be involved:</p>
<ul class="simple">
<li><p><strong>Urška Sršen:</strong> Cofounder and Chief Creative Officer of Bellabeat</p></li>
<li><p><strong>Sando Mur:</strong> Mathematician and Bellabeat’s cofounder; key member of the Bellabeat executive team</p></li>
<li><p><strong>Bellabeat marketing analytics team:</strong> A team of data analysts responsible for collecting, analyzing, and reporting data that helps guide Bellabeat’s marketing strategy</p></li>
</ul>
</section>
</section>
<hr class="docutils" />
<section id="prepare">
<h2>3. Prepare<a class="headerlink" href="#prepare" title="Permalink to this headline">#</a></h2>
<section id="dataset-information">
<h3>3.1 Dataset Information<a class="headerlink" href="#dataset-information" title="Permalink to this headline">#</a></h3>
<aside class="margin sidebar">
<p class="sidebar-title"></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The dataset is a public dataset with a CC0: Public Domain license.</p>
</div>
</aside>
<p>The dataset used for this case study is the <a class="reference external" href="https://www.kaggle.com/datasets/arashnic/fitbit/metadata">Fitbit Fitness Tracker Data</a> shared by <a class="reference external" href="https://www.kaggle.com/arashnic">Mobius</a> on <a class="reference external" href="https://www.kaggle.com">Kaggle</a>.</p>
<p>This Kaggle dataset contains personal fitness tracker from thirty Fitbit users. Thirty eligible Fitbit users consented to the submission of personal tracker data, including minute-level output for physical activity, heart rate, and sleep monitoring. It includes information about daily activity, steps, and heart rate that can be used to explore users’ habits.</p>
<p>The data was generated by respondents to a distributed survey via Amazon Mechanical Turk from March 3rd, 2016, to May 12th, 2016. Thirty eligible Fitbit users consented to the submission of personal tracker data, including minute-level output for physical activity, heart rate, and sleep monitoring.</p>
</section>
<section id="data-description">
<h3>3.2 Data Description<a class="headerlink" href="#data-description" title="Permalink to this headline">#</a></h3>
<p>There are 18 CSV files in the dataset containing the various data tracked by Fitbit. The data includes quantitative measures of activity, calories burned, intensity, steps, sleep, and weight.<br />
Detailed descriptions of each file and column can be found <a class="reference external" href="https://www.fitabase.com/media/1930/fitabasedatadictionary102320.pdf">here</a>.</p>
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3">
<summary class="sd-summary-title sd-card-header">
Click here for a table with a description of each CSV file.<div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p class="sd-card-text">Table Name</p></th>
<th class="head"><p class="sd-card-text">Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p class="sd-card-text">hourlyCalories_merged</p></td>
<td><p class="sd-card-text">Hourly calories burned over 31 days for 33 users</p></td>
</tr>
<tr class="row-odd"><td><p class="sd-card-text">dailyCalories_merged</p></td>
<td><p class="sd-card-text">Daily calories over 31  days for 33 users</p></td>
</tr>
<tr class="row-even"><td><p class="sd-card-text">minuteCaloriesNarrow_merged</p></td>
<td><p class="sd-card-text">Calories burned every minute over 31 days for 33 users (every minute in single row)</p></td>
</tr>
<tr class="row-odd"><td><p class="sd-card-text">minuteCaloriesWide_merged</p></td>
<td><p class="sd-card-text">Calories burned every minute over 31 days for 33 users (every minute in single column)</p></td>
</tr>
<tr class="row-even"><td><p class="sd-card-text">dailyIntensities_merged</p></td>
<td><p class="sd-card-text">Daily intensity over 31 days for 33 users. Measured in minutes and distance with 4 distinct categories: Sedentary, Lightly Active, Fairly Active,Very Active</p></td>
</tr>
<tr class="row-odd"><td><p class="sd-card-text">hourlyIntensities_merged</p></td>
<td><p class="sd-card-text">Hourly total and average intensity over 31 days for 33 users</p></td>
</tr>
<tr class="row-even"><td><p class="sd-card-text">minuteIntensitiesNarrow_merged</p></td>
<td><p class="sd-card-text">Intensity recorded by minute over 31 days for 33 users (every minute in single row)</p></td>
</tr>
<tr class="row-odd"><td><p class="sd-card-text">minuteIntensitiesWide_merged</p></td>
<td><p class="sd-card-text">Intensity recorded by minute over 31 days for 33 users (every minute in single column)</p></td>
</tr>
<tr class="row-even"><td><p class="sd-card-text">dailySteps_merged</p></td>
<td><p class="sd-card-text">Daily steps over 31 days for 33 users</p></td>
</tr>
<tr class="row-odd"><td><p class="sd-card-text">hourlySteps_merged</p></td>
<td><p class="sd-card-text">Hourly steps over 31 days for 33 users</p></td>
</tr>
<tr class="row-even"><td><p class="sd-card-text">minuteStepsNarrow_merged</p></td>
<td><p class="sd-card-text">Steps recorded by minute over 31 days for 33 users (every minute in single row)</p></td>
</tr>
<tr class="row-odd"><td><p class="sd-card-text">minuteStepsWide_merged</p></td>
<td><p class="sd-card-text">Steps recorded by minute over 31 days for 33 users (every minute in single column)</p></td>
</tr>
<tr class="row-even"><td><p class="sd-card-text">dailyActivity_merged</p></td>
<td><p class="sd-card-text">Daily activity over 31 days for 33 users. Includes daily steps, distance, intensities, and calories burned</p></td>
</tr>
<tr class="row-odd"><td><p class="sd-card-text">sleepDay_merged</p></td>
<td><p class="sd-card-text">Sleep recorded by day, including count for number of sleeping periods per day, total minutes, and total time in bed</p></td>
</tr>
<tr class="row-even"><td><p class="sd-card-text">minuteSleep_merged</p></td>
<td><p class="sd-card-text">Sleep recorded by minute for 24 users over 31 days. Values: 1 = asleep, 2 = restless, 3 = awake in bed</p></td>
</tr>
<tr class="row-odd"><td><p class="sd-card-text">heartrate_seconds_merged</p></td>
<td><p class="sd-card-text">Exact day and time heartrate logs for 7 users</p></td>
</tr>
<tr class="row-even"><td><p class="sd-card-text">minuteMETsNarrow_merged</p></td>
<td><p class="sd-card-text">MET or metabolic equivalent of task value recorded in minutes</p></td>
</tr>
<tr class="row-odd"><td><p class="sd-card-text">weightLogInfo_merged</p></td>
<td><p class="sd-card-text">Weight and BMI recorded by day in Kg and Pounds over 30 days for 8 users</p></td>
</tr>
</tbody>
</table>
</div>
</details></section>
<section id="data-integrity">
<h3>3.3 Data Integrity<a class="headerlink" href="#data-integrity" title="Permalink to this headline">#</a></h3>
<p>There are certainly some limitations to the dataset:</p>
<ul class="simple">
<li><p><strong>Sample Size:</strong> The dataset contains only 33 users for many of the files, while other files contain recordings from even fewer users.</p></li>
<li><p><strong>Study Duration:</strong> Much of the data was collected for a period of just one month, therefore lacking seasonal and other temporal trends.</p></li>
<li><p><strong>Completion Date:</strong> The data was collected in mid-2016, which is about 6 years ago now.</p></li>
</ul>
<p>Noting these limitations, the recommendations and conclusions reached in this study will have to keep in mind that the data is not completely ideal.
However, identifying these limitations could lead to some generalized conclusions and may encourage seeking out other third-party data sources.</p>
<div class="tip admonition">
<p class="admonition-title">Key Takeaways:</p>
<p>The data is a public Fitbit dataset that tracked various users’ health data including calories burned and sleep. The data is limited in that it had a small sample size, short duration, and was completed years ago.</p>
</div>
</section>
</section>
<hr class="docutils" />
<section id="process">
<h2>4. Process<a class="headerlink" href="#process" title="Permalink to this headline">#</a></h2>
<p>Due to the number of data files and their size, I will be using Python to process the data.</p>
<section id="import-libraries-and-read-in-data">
<h3>4.1 Import Libraries and Read in Data<a class="headerlink" href="#import-libraries-and-read-in-data" title="Permalink to this headline">#</a></h3>
<p>Goals:</p>
<ul class="simple">
<li><p>see the distribution of users in the 4 intensity categories</p></li>
<li><p>see average steps and calorie burn per category</p></li>
<li><p>see what time of day the users are most active</p></li>
<li><p>see average sleep and sleep per category
use these conclusions to advertise how Bellabeat membership and usage can lead to improvements in all of these</p></li>
</ul>
<p>Starting off by importing the libraries we will need, all of which are standard for data analysis.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">matplotlib</span> <span class="k">as</span> <span class="nn">mpl</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="kn">import</span> <span class="nn">os</span>
</pre></div>
</div>
</div>
</div>
<p>We can then take a look at which data files we have available.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;Data_Fitbase&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;dailyActivity_merged.csv&#39;,
 &#39;dailyCalories_merged.csv&#39;,
 &#39;dailyIntensities_merged.csv&#39;,
 &#39;dailySteps_merged.csv&#39;,
 &#39;heartrate_seconds_merged.csv&#39;,
 &#39;hourlyCalories_merged.csv&#39;,
 &#39;hourlyIntensities_merged.csv&#39;,
 &#39;hourlySteps_merged.csv&#39;,
 &#39;minuteCaloriesNarrow_merged.csv&#39;,
 &#39;minuteCaloriesWide_merged.csv&#39;,
 &#39;minuteIntensitiesNarrow_merged.csv&#39;,
 &#39;minuteIntensitiesWide_merged.csv&#39;,
 &#39;minuteMETsNarrow_merged.csv&#39;,
 &#39;minuteSleep_merged.csv&#39;,
 &#39;minuteStepsNarrow_merged.csv&#39;,
 &#39;minuteStepsWide_merged.csv&#39;,
 &#39;sleepDay_merged.csv&#39;,
 &#39;weightLogInfo_merged.csv&#39;]
</pre></div>
</div>
</div>
</div>
<p>We can now start reading in the files that we will be using in our analysis.<br />
But first, we can create a simple function that will return important information about each created dataframe, such as the column names, shape, duplicate row count, and missing value count.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">df_info</span><span class="p">(</span><span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="o">=</span><span class="s1">&#39;df&#39;</span><span class="p">,</span> <span class="n">dup_rows</span><span class="p">:</span> <span class="nb">bool</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">missing_values</span><span class="p">:</span> <span class="nb">bool</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Prints columns, shape, duplicate count, and null value count of a dataframe&#39;&#39;&#39;</span>
    <span class="nb">print</span><span class="p">(</span>
    <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s1">:</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span>
    <span class="sa">f</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">Columns: </span><span class="si">{</span><span class="nb">list</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span><span class="si">}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span>
    <span class="sa">f</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">Shape: </span><span class="si">{</span><span class="n">df</span><span class="o">.</span><span class="n">shape</span><span class="si">}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span>
    <span class="sa">f</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">Duplicate rows: </span><span class="si">{</span><span class="n">df</span><span class="o">.</span><span class="n">duplicated</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="si">}</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="k">if</span> <span class="n">dup_rows</span> <span class="k">else</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="sa">f</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">Missing values: </span><span class="si">{</span><span class="n">df</span><span class="o">.</span><span class="n">isna</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="si">}</span><span class="s1">&#39;</span> <span class="k">if</span> <span class="n">missing_values</span> <span class="k">else</span> <span class="s1">&#39;&#39;</span>
    <span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Starting with the daily activity data, we will also create a copy of the dataframe in order to easily revert to the original data if needed:</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The names of the ‘date’ columns in each of the .csv files have already been identified using the <a class="reference external" href="https://www.fitabase.com/media/1930/fitabasedatadictionary102320.pdf">Fitabase description of the dataset</a> in order to save time when changing the datatype of the ‘date’ columns from ‘object’ to ‘datetime64[ns]’.</p>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">original_day_activity</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span>
    <span class="sa">r</span><span class="s1">&#39;C:\Users\fahmi\Documents\Portfolio\Large Files\Data_Fitbase/dailyActivity_merged.csv&#39;</span><span class="p">,</span> 
    <span class="n">parse_dates</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;ActivityDate&#39;</span><span class="p">],</span> <span class="n">infer_datetime_format</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>
<span class="n">df_day_activity</span> <span class="o">=</span> <span class="n">original_day_activity</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">df_info</span><span class="p">(</span><span class="n">df</span><span class="o">=</span><span class="n">df_day_activity</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;df_day_activity&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>df_day_activity:
 	Columns: [&#39;Id&#39;, &#39;ActivityDate&#39;, &#39;TotalSteps&#39;, &#39;TotalDistance&#39;, &#39;TrackerDistance&#39;, &#39;LoggedActivitiesDistance&#39;, &#39;VeryActiveDistance&#39;, &#39;ModeratelyActiveDistance&#39;, &#39;LightActiveDistance&#39;, &#39;SedentaryActiveDistance&#39;, &#39;VeryActiveMinutes&#39;, &#39;FairlyActiveMinutes&#39;, &#39;LightlyActiveMinutes&#39;, &#39;SedentaryMinutes&#39;, &#39;Calories&#39;]
 	Shape: (940, 15)
 	Duplicate rows: 0
 	Missing values: 0
</pre></div>
</div>
</div>
</div>
<div class="cell tag_output_scroll docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_day_activity</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Id</th>
      <th>ActivityDate</th>
      <th>TotalSteps</th>
      <th>TotalDistance</th>
      <th>TrackerDistance</th>
      <th>LoggedActivitiesDistance</th>
      <th>VeryActiveDistance</th>
      <th>ModeratelyActiveDistance</th>
      <th>LightActiveDistance</th>
      <th>SedentaryActiveDistance</th>
      <th>VeryActiveMinutes</th>
      <th>FairlyActiveMinutes</th>
      <th>LightlyActiveMinutes</th>
      <th>SedentaryMinutes</th>
      <th>Calories</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1503960366</td>
      <td>2016-04-12</td>
      <td>13162</td>
      <td>8.50</td>
      <td>8.50</td>
      <td>0.0</td>
      <td>1.88</td>
      <td>0.55</td>
      <td>6.06</td>
      <td>0.0</td>
      <td>25</td>
      <td>13</td>
      <td>328</td>
      <td>728</td>
      <td>1985</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1503960366</td>
      <td>2016-04-13</td>
      <td>10735</td>
      <td>6.97</td>
      <td>6.97</td>
      <td>0.0</td>
      <td>1.57</td>
      <td>0.69</td>
      <td>4.71</td>
      <td>0.0</td>
      <td>21</td>
      <td>19</td>
      <td>217</td>
      <td>776</td>
      <td>1797</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1503960366</td>
      <td>2016-04-14</td>
      <td>10460</td>
      <td>6.74</td>
      <td>6.74</td>
      <td>0.0</td>
      <td>2.44</td>
      <td>0.40</td>
      <td>3.91</td>
      <td>0.0</td>
      <td>30</td>
      <td>11</td>
      <td>181</td>
      <td>1218</td>
      <td>1776</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>We can then do the same with the hourly steps data:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">original_hour_steps</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span>
    <span class="sa">r</span><span class="s1">&#39;C:\Users\fahmi\Documents\Portfolio\Large Files\Data_Fitbase/hourlySteps_merged.csv&#39;</span><span class="p">,</span>
    <span class="n">parse_dates</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;ActivityHour&#39;</span><span class="p">],</span> <span class="n">infer_datetime_format</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>
<span class="n">df_hour_steps</span> <span class="o">=</span> <span class="n">original_hour_steps</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">df_info</span><span class="p">(</span><span class="n">df</span><span class="o">=</span><span class="n">df_hour_steps</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;df_hour_steps&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>df_hour_steps:
 	Columns: [&#39;Id&#39;, &#39;ActivityHour&#39;, &#39;StepTotal&#39;]
 	Shape: (22099, 3)
 	Duplicate rows: 0
 	Missing values: 0
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_hour_steps</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Id</th>
      <th>ActivityHour</th>
      <th>StepTotal</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1503960366</td>
      <td>2016-04-12 00:00:00</td>
      <td>373</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1503960366</td>
      <td>2016-04-12 01:00:00</td>
      <td>160</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1503960366</td>
      <td>2016-04-12 02:00:00</td>
      <td>151</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>And the hourly calories burned data:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">original_hour_calories</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span>
    <span class="sa">r</span><span class="s1">&#39;C:\Users\fahmi\Documents\Portfolio\Large Files\Data_Fitbase/hourlyCalories_merged.csv&#39;</span><span class="p">,</span>
    <span class="n">parse_dates</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;ActivityHour&#39;</span><span class="p">],</span> <span class="n">infer_datetime_format</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>
<span class="n">df_hour_calories</span> <span class="o">=</span> <span class="n">original_hour_calories</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">df_info</span><span class="p">(</span><span class="n">df</span><span class="o">=</span><span class="n">df_hour_calories</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;df_hour_calories&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>df_hour_calories:
 	Columns: [&#39;Id&#39;, &#39;ActivityHour&#39;, &#39;Calories&#39;]
 	Shape: (22099, 3)
 	Duplicate rows: 0
 	Missing values: 0
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_hour_calories</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Id</th>
      <th>ActivityHour</th>
      <th>Calories</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1503960366</td>
      <td>2016-04-12 00:00:00</td>
      <td>81</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1503960366</td>
      <td>2016-04-12 01:00:00</td>
      <td>61</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1503960366</td>
      <td>2016-04-12 02:00:00</td>
      <td>59</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Then the daily sleep data:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">original_day_sleep</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span>
    <span class="sa">r</span><span class="s1">&#39;C:\Users\fahmi\Documents\Portfolio\Large Files\Data_Fitbase/sleepDay_merged.csv&#39;</span><span class="p">,</span>
    <span class="n">parse_dates</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;SleepDay&#39;</span><span class="p">],</span> <span class="n">infer_datetime_format</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>
<span class="n">df_day_sleep</span> <span class="o">=</span> <span class="n">original_day_sleep</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">df_info</span><span class="p">(</span><span class="n">df</span><span class="o">=</span><span class="n">df_day_sleep</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;df_day_sleep&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>df_day_sleep:
 	Columns: [&#39;Id&#39;, &#39;SleepDay&#39;, &#39;TotalSleepRecords&#39;, &#39;TotalMinutesAsleep&#39;, &#39;TotalTimeInBed&#39;]
 	Shape: (413, 5)
 	Duplicate rows: 3
 	Missing values: 0
</pre></div>
</div>
</div>
</div>
<div class="warning admonition">
<p class="admonition-title">Duplicate Data Warning:</p>
<p>Unlike with the other datafrarmes, we can see that there’s actually 3 duplicate rows in the daily sleep data that we will take care of later.</p>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_day_sleep</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Id</th>
      <th>SleepDay</th>
      <th>TotalSleepRecords</th>
      <th>TotalMinutesAsleep</th>
      <th>TotalTimeInBed</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1503960366</td>
      <td>2016-04-12</td>
      <td>1</td>
      <td>327</td>
      <td>346</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1503960366</td>
      <td>2016-04-13</td>
      <td>2</td>
      <td>384</td>
      <td>407</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1503960366</td>
      <td>2016-04-15</td>
      <td>1</td>
      <td>412</td>
      <td>442</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>And finally, the minute sleep data:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">original_min_sleep</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span>
    <span class="sa">r</span><span class="s1">&#39;C:\Users\fahmi\Documents\Portfolio\Large Files\Data_Fitbase/minuteSleep_merged.csv&#39;</span><span class="p">,</span> 
    <span class="n">parse_dates</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">],</span> <span class="n">infer_datetime_format</span><span class="o">=</span><span class="kc">False</span>
<span class="p">)</span>
<span class="n">df_min_sleep</span> <span class="o">=</span> <span class="n">original_min_sleep</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">df_info</span><span class="p">(</span><span class="n">df</span><span class="o">=</span><span class="n">df_min_sleep</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;df_min_sleep&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>df_min_sleep:
 	Columns: [&#39;Id&#39;, &#39;date&#39;, &#39;value&#39;, &#39;logId&#39;]
 	Shape: (188521, 4)
 	Duplicate rows: 543
 	Missing values: 0
</pre></div>
</div>
</div>
</div>
<div class="warning admonition">
<p class="admonition-title">Duplicate Data Warning:</p>
<p>In the minute sleep data, we can see that there’s 543 duplicate rows that we need to take care of as part of data cleaning.</p>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_min_sleep</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Id</th>
      <th>date</th>
      <th>value</th>
      <th>logId</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1503960366</td>
      <td>2016-04-12 02:47:30</td>
      <td>3</td>
      <td>11380564589</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1503960366</td>
      <td>2016-04-12 02:48:30</td>
      <td>2</td>
      <td>11380564589</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1503960366</td>
      <td>2016-04-12 02:49:30</td>
      <td>1</td>
      <td>11380564589</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="data-cleaning">
<h3>4.2 Data Cleaning<a class="headerlink" href="#data-cleaning" title="Permalink to this headline">#</a></h3>
<p>The first thing we should do as part of the data cleaning process is take care of the duplicate rows that we identified earlier in the <code class="docutils literal notranslate"><span class="pre">df_day_sleep</span></code> and <code class="docutils literal notranslate"><span class="pre">df_min_sleep</span></code> dataframes.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_info</span><span class="p">(</span><span class="n">df</span><span class="o">=</span><span class="n">df_day_sleep</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;df_day_sleep&#39;</span><span class="p">)</span>
<span class="n">df_info</span><span class="p">(</span><span class="n">df</span><span class="o">=</span><span class="n">df_min_sleep</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;df_min_sleep&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>df_day_sleep:
 	Columns: [&#39;Id&#39;, &#39;SleepDay&#39;, &#39;TotalSleepRecords&#39;, &#39;TotalMinutesAsleep&#39;, &#39;TotalTimeInBed&#39;]
 	Shape: (413, 5)
 	Duplicate rows: 3
 	Missing values: 0
df_min_sleep:
 	Columns: [&#39;Id&#39;, &#39;date&#39;, &#39;value&#39;, &#39;logId&#39;]
 	Shape: (188521, 4)
 	Duplicate rows: 543
 	Missing values: 0
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_day_sleep</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span><span class="n">keep</span><span class="o">=</span><span class="s1">&#39;first&#39;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df_info</span><span class="p">(</span><span class="n">df</span><span class="o">=</span><span class="n">df_day_sleep</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;df_day_sleep&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>df_day_sleep:
 	Columns: [&#39;Id&#39;, &#39;SleepDay&#39;, &#39;TotalSleepRecords&#39;, &#39;TotalMinutesAsleep&#39;, &#39;TotalTimeInBed&#39;]
 	Shape: (410, 5)
 	Duplicate rows: 0
 	Missing values: 0
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_min_sleep</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span><span class="n">keep</span><span class="o">=</span><span class="s1">&#39;first&#39;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df_info</span><span class="p">(</span><span class="n">df</span><span class="o">=</span><span class="n">df_min_sleep</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;df_min_sleep&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>df_min_sleep:
 	Columns: [&#39;Id&#39;, &#39;date&#39;, &#39;value&#39;, &#39;logId&#39;]
 	Shape: (187978, 4)
 	Duplicate rows: 0
 	Missing values: 0
</pre></div>
</div>
</div>
</div>
<p>And with that, we have made sure that there are no duplicate rows or null values in any of the dataframes.<br />
Furthermore, we know that the data types of the columns are correct, as we have already parsed the ‘date’ columns in each of the dataframes, and pandas handles the rest of the columns automatically.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>We are working with 5 dataframes in this analysis:</p>
<ul class="simple">
<li><p>df_day_activity</p></li>
<li><p>df_hour_steps</p></li>
<li><p>df_hour_calories</p></li>
<li><p>df_day_sleep</p></li>
<li><p>df_min_sleep</p></li>
</ul>
</div>
<p>Now we can go on to eliminate columns that are unnecessary for our analysis, and rename columns as needed.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_info</span><span class="p">(</span><span class="n">df</span><span class="o">=</span><span class="n">df_day_activity</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;df_day_activity&#39;</span><span class="p">,</span> <span class="n">dup_rows</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">missing_values</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>df_day_activity:
 	Columns: [&#39;Id&#39;, &#39;ActivityDate&#39;, &#39;TotalSteps&#39;, &#39;TotalDistance&#39;, &#39;TrackerDistance&#39;, &#39;LoggedActivitiesDistance&#39;, &#39;VeryActiveDistance&#39;, &#39;ModeratelyActiveDistance&#39;, &#39;LightActiveDistance&#39;, &#39;SedentaryActiveDistance&#39;, &#39;VeryActiveMinutes&#39;, &#39;FairlyActiveMinutes&#39;, &#39;LightlyActiveMinutes&#39;, &#39;SedentaryMinutes&#39;, &#39;Calories&#39;]
 	Shape: (940, 15)
  
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">columns_df_da</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">df_day_activity</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">values</span><span class="p">)[</span><span class="mi">4</span><span class="p">:</span><span class="o">-</span><span class="mi">5</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_day_activity</span> <span class="o">=</span> <span class="n">df_day_activity</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;ActivityDate&#39;</span><span class="p">:</span> <span class="s1">&#39;date&#39;</span><span class="p">,</span> <span class="s1">&#39;Id&#39;</span><span class="p">:</span> <span class="s1">&#39;id&#39;</span><span class="p">})</span>\
                                 <span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="n">columns_df_da</span><span class="p">)</span>
<span class="n">df_info</span><span class="p">(</span><span class="n">df</span><span class="o">=</span><span class="n">df_day_activity</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;df_day_activity&#39;</span><span class="p">,</span> <span class="n">dup_rows</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">missing_values</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>df_day_activity:
 	Columns: [&#39;id&#39;, &#39;date&#39;, &#39;TotalSteps&#39;, &#39;TotalDistance&#39;, &#39;VeryActiveMinutes&#39;, &#39;FairlyActiveMinutes&#39;, &#39;LightlyActiveMinutes&#39;, &#39;SedentaryMinutes&#39;, &#39;Calories&#39;]
 	Shape: (940, 9)
  
</pre></div>
</div>
</div>
</div>
<br>
<br><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_info</span><span class="p">(</span><span class="n">df_hour_steps</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;df_hour_steps&#39;</span><span class="p">,</span> <span class="n">dup_rows</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">missing_values</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>df_hour_steps:
 	Columns: [&#39;Id&#39;, &#39;ActivityHour&#39;, &#39;StepTotal&#39;]
 	Shape: (22099, 3)
  
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_hour_steps</span> <span class="o">=</span> <span class="n">df_hour_steps</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Id&#39;</span><span class="p">:</span> <span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="s1">&#39;ActivityHour&#39;</span><span class="p">:</span> <span class="s1">&#39;date_time&#39;</span><span class="p">})</span>
<span class="n">df_info</span><span class="p">(</span><span class="n">df_hour_steps</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;df_hour_steps&#39;</span><span class="p">,</span> <span class="n">dup_rows</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">missing_values</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>df_hour_steps:
 	Columns: [&#39;id&#39;, &#39;date_time&#39;, &#39;StepTotal&#39;]
 	Shape: (22099, 3)
  
</pre></div>
</div>
</div>
</div>
<br>
<br><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_info</span><span class="p">(</span><span class="n">df_hour_calories</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;df_hour_calories&#39;</span><span class="p">,</span> <span class="n">dup_rows</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">missing_values</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>df_hour_calories:
 	Columns: [&#39;Id&#39;, &#39;ActivityHour&#39;, &#39;Calories&#39;]
 	Shape: (22099, 3)
  
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_hour_calories</span> <span class="o">=</span> <span class="n">df_hour_calories</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Id&#39;</span><span class="p">:</span> <span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="s1">&#39;ActivityHour&#39;</span><span class="p">:</span> <span class="s1">&#39;date_time&#39;</span><span class="p">})</span>
<span class="n">df_info</span><span class="p">(</span><span class="n">df_hour_calories</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;df_hour_calories&#39;</span><span class="p">,</span> <span class="n">dup_rows</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">missing_values</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>df_hour_calories:
 	Columns: [&#39;id&#39;, &#39;date_time&#39;, &#39;Calories&#39;]
 	Shape: (22099, 3)
  
</pre></div>
</div>
</div>
</div>
<br>
<br><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_info</span><span class="p">(</span><span class="n">df_day_sleep</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;df_day_sleep&#39;</span><span class="p">,</span> <span class="n">dup_rows</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">missing_values</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>df_day_sleep:
 	Columns: [&#39;Id&#39;, &#39;SleepDay&#39;, &#39;TotalSleepRecords&#39;, &#39;TotalMinutesAsleep&#39;, &#39;TotalTimeInBed&#39;]
 	Shape: (410, 5)
  
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_day_sleep</span> <span class="o">=</span> <span class="n">df_day_sleep</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Id&#39;</span><span class="p">:</span> <span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="s1">&#39;SleepDay&#39;</span><span class="p">:</span> <span class="s1">&#39;date&#39;</span><span class="p">})</span>
<span class="n">df_info</span><span class="p">(</span><span class="n">df_day_sleep</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;df_day_sleep&#39;</span><span class="p">,</span> <span class="n">dup_rows</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">missing_values</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>df_day_sleep:
 	Columns: [&#39;id&#39;, &#39;date&#39;, &#39;TotalSleepRecords&#39;, &#39;TotalMinutesAsleep&#39;, &#39;TotalTimeInBed&#39;]
 	Shape: (410, 5)
  
</pre></div>
</div>
</div>
</div>
<br>
<br><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_info</span><span class="p">(</span><span class="n">df_min_sleep</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;df_min_sleep&#39;</span><span class="p">,</span> <span class="n">dup_rows</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">missing_values</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>df_min_sleep:
 	Columns: [&#39;Id&#39;, &#39;date&#39;, &#39;value&#39;, &#39;logId&#39;]
 	Shape: (187978, 4)
  
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_min_sleep</span> <span class="o">=</span> <span class="n">df_min_sleep</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Id&#39;</span><span class="p">:</span> <span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="s1">&#39;date&#39;</span><span class="p">:</span> <span class="s1">&#39;date_time&#39;</span><span class="p">})</span>\
                           <span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="s1">&#39;logId&#39;</span><span class="p">)</span>
<span class="n">df_info</span><span class="p">(</span><span class="n">df_min_sleep</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;df_min_sleep&#39;</span><span class="p">,</span> <span class="n">dup_rows</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">missing_values</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>df_min_sleep:
 	Columns: [&#39;id&#39;, &#39;date_time&#39;, &#39;value&#39;]
 	Shape: (187978, 3)
  
</pre></div>
</div>
</div>
</div>
</section>
<section id="merging-data">
<h3>4.3 Merging Data<a class="headerlink" href="#merging-data" title="Permalink to this headline">#</a></h3>
<p>Now that the data is clean, we can merge some of the dataframes together.</p>
<aside class="margin sidebar">
<p class="sidebar-title"></p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>An inner join is used in this case because we only want to keep the rows that are common between the merged dataframes. Using ‘id’ and a ‘date’ column as the primary key can ensure that corresponding rows get matched correctly.</p>
</div>
</aside>
<p>We can merge the <code class="docutils literal notranslate"><span class="pre">df_day_activity</span></code> and <code class="docutils literal notranslate"><span class="pre">df_day_sleep</span></code> dataframes together to create a new dataframe called <code class="docutils literal notranslate"><span class="pre">df_day_activity_sleep</span></code> since their date columns are both ‘date’ instead of including a time element as well.</p>
<p>Similarly, we can combine the <code class="docutils literal notranslate"><span class="pre">df_hour_steps</span></code> and <code class="docutils literal notranslate"><span class="pre">df_hour_calories</span></code> dataframes to create a new dataframe called <code class="docutils literal notranslate"><span class="pre">df_hour_steps_calories</span></code> since their date columns include a time element.</p>
<p>Since no dataframe outside of <code class="docutils literal notranslate"><span class="pre">df_min_sleep</span></code> is on a minute-by-minute basis, we cannot combine the dataframe with the other dataframes.</p>
<p>Doing inner joins with the <code class="docutils literal notranslate"><span class="pre">id</span></code> and either <code class="docutils literal notranslate"><span class="pre">date</span></code> or <code class="docutils literal notranslate"><span class="pre">date_time</span></code> columns as the primary key will allow us to join the dataframes together without losing any of the data and without creating extraneous columns or rows.</p>
<p>Starting off with the  <code class="docutils literal notranslate"><span class="pre">df_day_activity</span></code> and <code class="docutils literal notranslate"><span class="pre">df_day_sleep</span></code> dataframes to make <code class="docutils literal notranslate"><span class="pre">df_day_activity_sleep</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_day_activity_sleep</span> <span class="o">=</span> <span class="n">df_day_sleep</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">right</span><span class="o">=</span><span class="n">df_day_activity</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="s1">&#39;date&#39;</span><span class="p">],</span> 
                                           <span class="n">how</span><span class="o">=</span><span class="s1">&#39;inner&#39;</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="s1">&#39;1:1&#39;</span><span class="p">)</span>
<span class="n">df_info</span><span class="p">(</span><span class="n">df_day_activity_sleep</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;df_day_activity_sleep&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>df_day_activity_sleep:
 	Columns: [&#39;id&#39;, &#39;date&#39;, &#39;TotalSleepRecords&#39;, &#39;TotalMinutesAsleep&#39;, &#39;TotalTimeInBed&#39;, &#39;TotalSteps&#39;, &#39;TotalDistance&#39;, &#39;VeryActiveMinutes&#39;, &#39;FairlyActiveMinutes&#39;, &#39;LightlyActiveMinutes&#39;, &#39;SedentaryMinutes&#39;, &#39;Calories&#39;]
 	Shape: (410, 12)
 	Duplicate rows: 0
 	Missing values: 0
</pre></div>
</div>
</div>
</div>
<div class="cell tag_output_scroll docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_day_activity_sleep</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>date</th>
      <th>TotalSleepRecords</th>
      <th>TotalMinutesAsleep</th>
      <th>TotalTimeInBed</th>
      <th>TotalSteps</th>
      <th>TotalDistance</th>
      <th>VeryActiveMinutes</th>
      <th>FairlyActiveMinutes</th>
      <th>LightlyActiveMinutes</th>
      <th>SedentaryMinutes</th>
      <th>Calories</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1503960366</td>
      <td>2016-04-12</td>
      <td>1</td>
      <td>327</td>
      <td>346</td>
      <td>13162</td>
      <td>8.50</td>
      <td>25</td>
      <td>13</td>
      <td>328</td>
      <td>728</td>
      <td>1985</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1503960366</td>
      <td>2016-04-13</td>
      <td>2</td>
      <td>384</td>
      <td>407</td>
      <td>10735</td>
      <td>6.97</td>
      <td>21</td>
      <td>19</td>
      <td>217</td>
      <td>776</td>
      <td>1797</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1503960366</td>
      <td>2016-04-15</td>
      <td>1</td>
      <td>412</td>
      <td>442</td>
      <td>9762</td>
      <td>6.28</td>
      <td>29</td>
      <td>34</td>
      <td>209</td>
      <td>726</td>
      <td>1745</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>And then combining the <code class="docutils literal notranslate"><span class="pre">df_hour_steps</span></code> and <code class="docutils literal notranslate"><span class="pre">df_hour_calories</span></code> dataframes to make <code class="docutils literal notranslate"><span class="pre">df_hour_steps_calories</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_hour_steps_calories</span> <span class="o">=</span> <span class="n">df_hour_steps</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">right</span><span class="o">=</span><span class="n">df_hour_calories</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="s1">&#39;date_time&#39;</span><span class="p">],</span>
                                             <span class="n">how</span><span class="o">=</span><span class="s1">&#39;inner&#39;</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="s1">&#39;1:1&#39;</span><span class="p">)</span>
<span class="n">df_info</span><span class="p">(</span><span class="n">df_hour_steps_calories</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;df_hour_steps_calories&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>df_hour_steps_calories:
 	Columns: [&#39;id&#39;, &#39;date_time&#39;, &#39;StepTotal&#39;, &#39;Calories&#39;]
 	Shape: (22099, 4)
 	Duplicate rows: 0
 	Missing values: 0
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_hour_steps_calories</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>date_time</th>
      <th>StepTotal</th>
      <th>Calories</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1503960366</td>
      <td>2016-04-12 00:00:00</td>
      <td>373</td>
      <td>81</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1503960366</td>
      <td>2016-04-12 01:00:00</td>
      <td>160</td>
      <td>61</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1503960366</td>
      <td>2016-04-12 02:00:00</td>
      <td>151</td>
      <td>59</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>And our final dataframe, <code class="docutils literal notranslate"><span class="pre">df_min_sleep</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_min_sleep</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>date_time</th>
      <th>value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1503960366</td>
      <td>2016-04-12 02:47:30</td>
      <td>3</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1503960366</td>
      <td>2016-04-12 02:48:30</td>
      <td>2</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1503960366</td>
      <td>2016-04-12 02:49:30</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="adding-relevant-columns">
<h3>4.4 Adding Relevant Columns<a class="headerlink" href="#adding-relevant-columns" title="Permalink to this headline">#</a></h3>
<p>For our now 3 dataframes, we can add a <code class="docutils literal notranslate"><span class="pre">day_of_week</span></code> column that will be used to identify the day of the week for each date. This may make it easier to visualize the data later on.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_day_activity_sleep</span><span class="p">[</span><span class="s1">&#39;day_of_week&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_day_activity_sleep</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">day_name</span><span class="p">()</span>
<span class="n">df_hour_steps_calories</span><span class="p">[</span><span class="s1">&#39;day_of_week&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_hour_steps_calories</span><span class="p">[</span><span class="s1">&#39;date_time&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">day_name</span><span class="p">()</span>
<span class="n">df_min_sleep</span><span class="p">[</span><span class="s1">&#39;day_of_week&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_min_sleep</span><span class="p">[</span><span class="s1">&#39;date_time&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">day_name</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>Then we can move the <code class="docutils literal notranslate"><span class="pre">day_of_week</span></code> column toward the front of the dataframe:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">day_of_week</span> <span class="o">=</span> <span class="n">df_day_activity_sleep</span><span class="p">[</span><span class="s1">&#39;day_of_week&#39;</span><span class="p">]</span>
<span class="n">df_day_activity_sleep</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="s1">&#39;day_of_week&#39;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df_day_activity_sleep</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="s1">&#39;day_of_week&#39;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">day_of_week</span><span class="p">)</span>

<span class="n">day_of_week</span> <span class="o">=</span> <span class="n">df_hour_steps_calories</span><span class="p">[</span><span class="s1">&#39;day_of_week&#39;</span><span class="p">]</span>
<span class="n">df_hour_steps_calories</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="s1">&#39;day_of_week&#39;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df_hour_steps_calories</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="s1">&#39;day_of_week&#39;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">day_of_week</span><span class="p">)</span>

<span class="n">day_of_week</span> <span class="o">=</span> <span class="n">df_hour_steps_calories</span><span class="p">[</span><span class="s1">&#39;day_of_week&#39;</span><span class="p">]</span>
<span class="n">df_min_sleep</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="s1">&#39;day_of_week&#39;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df_min_sleep</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="s1">&#39;day_of_week&#39;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">day_of_week</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>And taking a final quick look at the dataframes before analysis:</p>
<div class="cell tag_output_scroll docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_day_activity_sleep</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>date</th>
      <th>day_of_week</th>
      <th>TotalSleepRecords</th>
      <th>TotalMinutesAsleep</th>
      <th>TotalTimeInBed</th>
      <th>TotalSteps</th>
      <th>TotalDistance</th>
      <th>VeryActiveMinutes</th>
      <th>FairlyActiveMinutes</th>
      <th>LightlyActiveMinutes</th>
      <th>SedentaryMinutes</th>
      <th>Calories</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1503960366</td>
      <td>2016-04-12</td>
      <td>Tuesday</td>
      <td>1</td>
      <td>327</td>
      <td>346</td>
      <td>13162</td>
      <td>8.50</td>
      <td>25</td>
      <td>13</td>
      <td>328</td>
      <td>728</td>
      <td>1985</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1503960366</td>
      <td>2016-04-13</td>
      <td>Wednesday</td>
      <td>2</td>
      <td>384</td>
      <td>407</td>
      <td>10735</td>
      <td>6.97</td>
      <td>21</td>
      <td>19</td>
      <td>217</td>
      <td>776</td>
      <td>1797</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1503960366</td>
      <td>2016-04-15</td>
      <td>Friday</td>
      <td>1</td>
      <td>412</td>
      <td>442</td>
      <td>9762</td>
      <td>6.28</td>
      <td>29</td>
      <td>34</td>
      <td>209</td>
      <td>726</td>
      <td>1745</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_hour_steps_calories</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>date_time</th>
      <th>day_of_week</th>
      <th>StepTotal</th>
      <th>Calories</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1503960366</td>
      <td>2016-04-12 00:00:00</td>
      <td>Tuesday</td>
      <td>373</td>
      <td>81</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1503960366</td>
      <td>2016-04-12 01:00:00</td>
      <td>Tuesday</td>
      <td>160</td>
      <td>61</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1503960366</td>
      <td>2016-04-12 02:00:00</td>
      <td>Tuesday</td>
      <td>151</td>
      <td>59</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_min_sleep</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>date_time</th>
      <th>day_of_week</th>
      <th>value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1503960366</td>
      <td>2016-04-12 02:47:30</td>
      <td>Tuesday</td>
      <td>3</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1503960366</td>
      <td>2016-04-12 02:48:30</td>
      <td>Tuesday</td>
      <td>2</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1503960366</td>
      <td>2016-04-12 02:49:30</td>
      <td>Tuesday</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
</section>
<hr class="docutils" />
<section id="analyze-and-share">
<h2>5. Analyze and Share<a class="headerlink" href="#analyze-and-share" title="Permalink to this headline">#</a></h2>
<!-- <a name='Analyze-and-Share-Phase'></a><h3 style="color:#FA8072">5. Analyze and Share Phase:</h3> --><p>With our data clean and processed, we can now begin to analyze the data to see how we can influence and improve Bellabeat’s marketing decisions.</p>
<section id="activity-level-distribution">
<h3>5.1 Activity Level Distribution<a class="headerlink" href="#activity-level-distribution" title="Permalink to this headline">#</a></h3>
<p>First off, we can classify the individuals in the <code class="docutils literal notranslate"><span class="pre">df_day_activity_sleep</span></code> dataframe into 4 activity levels as adjusted from <a class="reference external" href="https://www.10000steps.org.au/articles/counting-steps/">10000steps.org.au</a>:</p>
<p>With this information, Bellabeat will be able to get an understanding of the demographics of users who use smart fitness devices like the Fitbit, and an idea of what types of individuals they should focus their marketing efforts towards.</p>
<ul class="simple">
<li><p>Sedentary: &lt; 5,000 steps per day</p></li>
<li><p>Lightly Active: 5,000 - 7,499 steps per day</p></li>
<li><p>Fairly Active: 7,500 - 9,999 steps per day</p></li>
<li><p>Very Active: more than 10,000 steps per day</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><a class="reference external" href="https://www.10000steps.org.au/articles/counting-steps/">10000steps.org.au</a> recommends that most adults take 10,000 steps daily as studies have shown that this level of activity leads to weight loss, better glucose tolerance, and reduced blood pressure.</p>
</div>
<p>To do this, we can first find the average steps taken per day for each of the individuals in the <code class="docutils literal notranslate"><span class="pre">df_day_activity_sleep</span></code> dataframe.<br />
In order to still be able to refer to <code class="docutils literal notranslate"><span class="pre">df_day_activity_sleep</span></code> afterwards, we can create a new dataframe called <code class="docutils literal notranslate"><span class="pre">df_avg_actslp</span></code> that will be grouped by <code class="docutils literal notranslate"><span class="pre">id</span></code> and then the columns will be averaged.</p>
<div class="cell tag_output_scroll docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_avg_actslp</span> <span class="o">=</span> <span class="n">df_day_activity_sleep</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;id&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell tag_output_scroll docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_avg_actslp</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>TotalSleepRecords</th>
      <th>TotalMinutesAsleep</th>
      <th>TotalTimeInBed</th>
      <th>TotalSteps</th>
      <th>TotalDistance</th>
      <th>VeryActiveMinutes</th>
      <th>FairlyActiveMinutes</th>
      <th>LightlyActiveMinutes</th>
      <th>SedentaryMinutes</th>
      <th>Calories</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1503960366</td>
      <td>1.08</td>
      <td>360.28</td>
      <td>383.2</td>
      <td>12405.68</td>
      <td>7.971200</td>
      <td>37.92</td>
      <td>20.280000</td>
      <td>233.12</td>
      <td>759.280000</td>
      <td>1872.280000</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1644430081</td>
      <td>1.00</td>
      <td>294.00</td>
      <td>346.0</td>
      <td>7967.75</td>
      <td>5.792500</td>
      <td>2.50</td>
      <td>19.500000</td>
      <td>241.25</td>
      <td>920.500000</td>
      <td>2977.750000</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1844505072</td>
      <td>1.00</td>
      <td>652.00</td>
      <td>961.0</td>
      <td>3477.00</td>
      <td>2.303333</td>
      <td>0.00</td>
      <td>2.333333</td>
      <td>145.00</td>
      <td>443.333333</td>
      <td>1676.333333</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Now that we have the average steps taken per day for each individual, we can classify each of them into the 4 activity levels.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">condlist</span> <span class="o">=</span> <span class="p">[</span>
              <span class="n">df_avg_actslp</span><span class="o">.</span><span class="n">TotalSteps</span> <span class="o">&lt;</span> <span class="mi">5000</span><span class="p">,</span> 
              <span class="p">(</span><span class="n">df_avg_actslp</span><span class="o">.</span><span class="n">TotalSteps</span> <span class="o">&gt;=</span> <span class="mi">5000</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df_avg_actslp</span><span class="o">.</span><span class="n">TotalSteps</span> <span class="o">&lt;</span> <span class="mi">7499</span><span class="p">),</span>
              <span class="p">(</span><span class="n">df_avg_actslp</span><span class="o">.</span><span class="n">TotalSteps</span> <span class="o">&gt;=</span> <span class="mi">7500</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df_avg_actslp</span><span class="o">.</span><span class="n">TotalSteps</span> <span class="o">&lt;</span> <span class="mi">9999</span><span class="p">),</span>
              <span class="p">(</span><span class="n">df_avg_actslp</span><span class="o">.</span><span class="n">TotalSteps</span> <span class="o">&gt;=</span> <span class="mi">10_000</span><span class="p">)</span>
             <span class="p">]</span>
<span class="n">choicelist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;sedentary&#39;</span><span class="p">,</span> <span class="s1">&#39;lightly active&#39;</span><span class="p">,</span> <span class="s1">&#39;moderately active&#39;</span><span class="p">,</span> <span class="s1">&#39;very active&#39;</span><span class="p">]</span>

<span class="n">df_avg_actslp</span><span class="p">[</span><span class="s1">&#39;activity_level&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">condlist</span><span class="p">,</span> <span class="n">choicelist</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell tag_output_scroll docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_avg_actslp</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>TotalSleepRecords</th>
      <th>TotalMinutesAsleep</th>
      <th>TotalTimeInBed</th>
      <th>TotalSteps</th>
      <th>TotalDistance</th>
      <th>VeryActiveMinutes</th>
      <th>FairlyActiveMinutes</th>
      <th>LightlyActiveMinutes</th>
      <th>SedentaryMinutes</th>
      <th>Calories</th>
      <th>activity_level</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1503960366</td>
      <td>1.08</td>
      <td>360.28</td>
      <td>383.2</td>
      <td>12405.68</td>
      <td>7.971200</td>
      <td>37.92</td>
      <td>20.280000</td>
      <td>233.12</td>
      <td>759.280000</td>
      <td>1872.280000</td>
      <td>very active</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1644430081</td>
      <td>1.00</td>
      <td>294.00</td>
      <td>346.0</td>
      <td>7967.75</td>
      <td>5.792500</td>
      <td>2.50</td>
      <td>19.500000</td>
      <td>241.25</td>
      <td>920.500000</td>
      <td>2977.750000</td>
      <td>moderately active</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1844505072</td>
      <td>1.00</td>
      <td>652.00</td>
      <td>961.0</td>
      <td>3477.00</td>
      <td>2.303333</td>
      <td>0.00</td>
      <td>2.333333</td>
      <td>145.00</td>
      <td>443.333333</td>
      <td>1676.333333</td>
      <td>sedentary</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>We should also make sure that this worked for all of the rows, and there weren’t any null values added to the dataframe.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_info</span><span class="p">(</span><span class="n">df_avg_actslp</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;df_avg_actslp&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>df_avg_actslp:
 	Columns: [&#39;id&#39;, &#39;TotalSleepRecords&#39;, &#39;TotalMinutesAsleep&#39;, &#39;TotalTimeInBed&#39;, &#39;TotalSteps&#39;, &#39;TotalDistance&#39;, &#39;VeryActiveMinutes&#39;, &#39;FairlyActiveMinutes&#39;, &#39;LightlyActiveMinutes&#39;, &#39;SedentaryMinutes&#39;, &#39;Calories&#39;, &#39;activity_level&#39;]
 	Shape: (24, 12)
 	Duplicate rows: 0
 	Missing values: 0
</pre></div>
</div>
</div>
</div>
<p>Now we can create a new dataframe called <code class="docutils literal notranslate"><span class="pre">df_pct_actlvl</span></code> for ‘df_percent_activity_level’ that will be grouped by <code class="docutils literal notranslate"><span class="pre">activity_level</span></code> with the percent of individuals in each activity level.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_pct_actlvl</span> <span class="o">=</span> <span class="n">df_avg_actslp</span><span class="o">.</span><span class="n">activity_level</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_pct_actlvl</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;index&#39;</span><span class="p">:</span> <span class="s1">&#39;activity_level&#39;</span><span class="p">,</span> <span class="s1">&#39;activity_level&#39;</span><span class="p">:</span> <span class="s1">&#39;percentage&#39;</span><span class="p">},</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df_pct_actlvl</span><span class="o">.</span><span class="n">percentage</span> <span class="o">*=</span> <span class="mi">100</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_pct_actlvl</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>activity_level</th>
      <th>percentage</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>moderately active</td>
      <td>37.500000</td>
    </tr>
    <tr>
      <th>1</th>
      <td>very active</td>
      <td>20.833333</td>
    </tr>
    <tr>
      <th>2</th>
      <td>sedentary</td>
      <td>20.833333</td>
    </tr>
    <tr>
      <th>3</th>
      <td>lightly active</td>
      <td>20.833333</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>With this dataframe, we can plot the percentages of individuals in each activity level:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">12</span><span class="p">),</span> <span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;font.size&#39;</span><span class="p">:</span> <span class="mi">20</span><span class="p">})</span>
<span class="n">labels</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Sedentary&#39;</span><span class="p">,</span> <span class="s1">&#39;Lightly Active&#39;</span><span class="p">,</span> <span class="s1">&#39;Moderately Active&#39;</span><span class="p">,</span> <span class="s1">&#39;Very Active&#39;</span><span class="p">]</span>

<span class="n">plt</span><span class="o">.</span><span class="n">pie</span><span class="p">(</span>
        <span class="n">df_pct_actlvl</span><span class="o">.</span><span class="n">percentage</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="n">labels</span><span class="p">,</span>  <span class="n">startangle</span><span class="o">=</span><span class="mi">113</span><span class="p">,</span>
        <span class="n">autopct</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%1.1f%%</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">pctdistance</span><span class="o">=</span><span class="mf">0.85</span><span class="p">,</span> <span class="n">colors</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">cm</span><span class="o">.</span><span class="n">Reds_r</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">75</span><span class="p">,</span> <span class="mi">226</span><span class="p">,</span> <span class="mi">50</span><span class="p">)),</span> 
        <span class="n">wedgeprops</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;linewidth&#39;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span> <span class="s1">&#39;edgecolor&#39;</span><span class="p">:</span> <span class="s1">&#39;white&#39;</span><span class="p">}</span>
        <span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">add_artist</span><span class="p">(</span><span class="n">plt</span><span class="o">.</span><span class="n">Circle</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="mf">0.7</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">))</span>

<span class="n">fig</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="s1">&#39;Percentage of Users </span><span class="se">\n</span><span class="s1">in Each Activity Level&#39;</span><span class="p">,</span> 
             <span class="n">x</span><span class="o">=</span><span class="mf">0.52</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">26</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">)</span>

<span class="c1"># plt.savefig(&#39;activity_levels.png&#39;, dpi=300, bbox_inches=&#39;tight&#39;)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/bellabeat_analysis_92_0.png" src="../_images/bellabeat_analysis_92_0.png" />
</div>
</div>
<p>Somewhat surprisingly, the largest activity level group among the FitBit users is actually the ‘Sedentary’ group. This may be surprising, considering that you might expect that only active individuals would seek out a health and fitness-focused smart device. Understanding this, Bellabeat should shift their marketing strategy to advertise towards not only active individuals, but also those who are sedentary. Beyond that, we can see that only a minority of the users reached the ‘Very Active’ level of 10,000 steps or more per day. This is considered unhealthy for most people, and Bellabeat could also market that their membership service will improve the health and fitness of subscribers as their activity level can be monitored and improved.</p>
<div class="tip admonition">
<p class="admonition-title">Key Takeaways:</p>
<ul class="simple">
<li><p>Bellabeat should focus their marketing not only towards active individuals, but also those who are more sedentary.</p></li>
<li><p>Bellabeat should also market that their membership service will improve the health and fitness of subscribers as their activity level can be monitored and improved.</p></li>
</ul>
</div>
</section>
<section id="weekly-trends-in-steps-and-sleep">
<h3>5.2 Weekly Trends in Steps and Sleep<a class="headerlink" href="#weekly-trends-in-steps-and-sleep" title="Permalink to this headline">#</a></h3>
<p>We can go beyond classifying the users into activity levels and try to identify trends in both steps and sleep per day of the week.<br />
The goal behind this is that we may be able to identify two different trends in the data:</p>
<ol class="simple">
<li><p>Are users taking the recommended 10,000 steps and sleeping the recommended 8 hours per day?</p></li>
<li><p>Do users display healthier habits on certain days of the week more than others?</p></li>
</ol>
<p>With this information, Bellabeat will be able to identify if smart fitness device users are on average displaying healthy habits and provide in-app recommendations and reminders when users are not achieving healthy numbers or their personalized goals. As a result, Bellabeat will be able to identify if they should shift their marketing strategy to promote healthier fitness and sleeping habits, or whether their users are already doing well. Furthermore, Bellabeat will be able to market their app and membership as being able to help users achieve their health goals by improving their fitness and sleep.</p>
<p>We can start of by taking a look at what the average steps and sleep per day of the week looks like.</p>
<aside class="margin sidebar">
<p class="sidebar-title"></p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>We don’t have to actually assign a new variable for this dataframe, as plotting a barplot with seaborn will essentailly automatically take care of the calculations for us.</p>
</div>
</aside>
<div class="cell tag_output_scroll docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_day_activity_sleep</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;day_of_week&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="s1">&#39;id&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>day_of_week</th>
      <th>TotalSleepRecords</th>
      <th>TotalMinutesAsleep</th>
      <th>TotalTimeInBed</th>
      <th>TotalSteps</th>
      <th>TotalDistance</th>
      <th>VeryActiveMinutes</th>
      <th>FairlyActiveMinutes</th>
      <th>LightlyActiveMinutes</th>
      <th>SedentaryMinutes</th>
      <th>Calories</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Friday</td>
      <td>1.070175</td>
      <td>405.421053</td>
      <td>445.052632</td>
      <td>7901.403509</td>
      <td>5.511930</td>
      <td>21.157895</td>
      <td>14.578947</td>
      <td>222.684211</td>
      <td>743.087719</td>
      <td>2329.649123</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Monday</td>
      <td>1.108696</td>
      <td>419.500000</td>
      <td>457.347826</td>
      <td>9273.217391</td>
      <td>6.540870</td>
      <td>30.717391</td>
      <td>19.086957</td>
      <td>222.369565</td>
      <td>718.413043</td>
      <td>2431.978261</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Saturday</td>
      <td>1.192982</td>
      <td>419.070175</td>
      <td>459.842105</td>
      <td>9871.122807</td>
      <td>7.015789</td>
      <td>27.561404</td>
      <td>22.719298</td>
      <td>246.771930</td>
      <td>680.438596</td>
      <td>2506.894737</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Sunday</td>
      <td>1.181818</td>
      <td>452.745455</td>
      <td>503.509091</td>
      <td>7297.854545</td>
      <td>5.184727</td>
      <td>22.145455</td>
      <td>16.763636</td>
      <td>200.036364</td>
      <td>687.636364</td>
      <td>2276.600000</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Thursday</td>
      <td>1.031250</td>
      <td>401.296875</td>
      <td>434.875000</td>
      <td>8183.515625</td>
      <td>5.773438</td>
      <td>22.859375</td>
      <td>15.859375</td>
      <td>202.937500</td>
      <td>698.375000</td>
      <td>2306.671875</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Tuesday</td>
      <td>1.107692</td>
      <td>404.538462</td>
      <td>443.292308</td>
      <td>9182.692308</td>
      <td>6.430000</td>
      <td>30.615385</td>
      <td>20.046154</td>
      <td>216.584615</td>
      <td>740.046154</td>
      <td>2496.200000</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Wednesday</td>
      <td>1.151515</td>
      <td>434.681818</td>
      <td>470.030303</td>
      <td>8022.863636</td>
      <td>5.719849</td>
      <td>21.333333</td>
      <td>16.742424</td>
      <td>207.969697</td>
      <td>714.454545</td>
      <td>2378.242424</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Now, we can establish a week order to be used for all following plots.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">WEEK_ORDER</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Monday&#39;</span><span class="p">,</span> <span class="s1">&#39;Tuesday&#39;</span><span class="p">,</span> <span class="s1">&#39;Wednesday&#39;</span><span class="p">,</span> <span class="s1">&#39;Thursday&#39;</span><span class="p">,</span> <span class="s1">&#39;Friday&#39;</span><span class="p">,</span> <span class="s1">&#39;Saturday&#39;</span><span class="p">,</span> <span class="s1">&#39;Sunday&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<p>Then we can plot the average steps taken by day of the week:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> <span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;font.size&#39;</span><span class="p">:</span> <span class="mi">14</span><span class="p">})</span>

<span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span>
            <span class="n">data</span><span class="o">=</span><span class="n">df_day_activity_sleep</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;day_of_week&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;TotalSteps&#39;</span><span class="p">,</span> 
            <span class="n">order</span><span class="o">=</span><span class="n">WEEK_ORDER</span><span class="p">,</span> <span class="n">palette</span><span class="o">=</span><span class="s1">&#39;icefire&#39;</span><span class="p">,</span> <span class="n">ci</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.8</span>
            <span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">x</span><span class="o">=-</span><span class="mf">0.4</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">10_100</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="s1">&#39;recommended daily steps&#39;</span><span class="p">,</span> 
         <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axhline</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="mi">10_000</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Day of the Week&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span> <span class="n">labelpad</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Average Steps&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span> <span class="n">labelpad</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">set_major_formatter</span><span class="p">(</span><span class="n">mpl</span><span class="o">.</span><span class="n">ticker</span><span class="o">.</span><span class="n">StrMethodFormatter</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{x:,.0f}</span><span class="s1">&#39;</span><span class="p">))</span>
<span class="n">ax</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.8</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">despine</span><span class="p">(</span><span class="n">bottom</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">left</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="s1">&#39;Average Steps by Day of the Week&#39;</span><span class="p">,</span>
             <span class="n">fontsize</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="mf">0.13</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mf">0.95</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">)</span>

<span class="c1"># plt.savefig(&#39;steps_weekly.png&#39;, dpi=300, bbox_inches=&#39;tight&#39;)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/bellabeat_analysis_100_0.png" src="../_images/bellabeat_analysis_100_0.png" />
</div>
</div>
<p>And then the average minutes of sleep by day of the week:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> <span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;font.size&#39;</span><span class="p">:</span> <span class="mi">14</span><span class="p">})</span>

<span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span>
            <span class="n">data</span><span class="o">=</span><span class="n">df_day_activity_sleep</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;day_of_week&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;TotalMinutesAsleep&#39;</span><span class="p">,</span> 
            <span class="n">order</span><span class="o">=</span><span class="n">WEEK_ORDER</span><span class="p">,</span> <span class="n">palette</span><span class="o">=</span><span class="s1">&#39;icefire&#39;</span><span class="p">,</span> <span class="n">ci</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.8</span>
            <span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">x</span><span class="o">=-</span><span class="mf">0.4</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">485</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="s1">&#39;recommended daily sleep (8 hours)&#39;</span><span class="p">,</span> 
         <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axhline</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="mi">480</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Day of the Week&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span> <span class="n">labelpad</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Average Minutes Asleep&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span> <span class="n">labelpad</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.8</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">despine</span><span class="p">(</span><span class="n">bottom</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">left</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="s1">&#39;Average Minutes Asleep by Day of the Week&#39;</span><span class="p">,</span>
             <span class="n">fontsize</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="mf">0.13</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mf">0.95</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">)</span>

<span class="c1"># plt.savefig(&#39;sleep_weekly.png&#39;, dpi=300, bbox_inches=&#39;tight&#39;)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/bellabeat_analysis_102_0.png" src="../_images/bellabeat_analysis_102_0.png" />
</div>
</div>
<p>Interestingly, we can see that on average, the Fitbit users are not reaching either the daily recommended steps or the daily recommended sleep. Coinciding with the earlier plot in 5.1, we can see that the users on average are not following healthy habits. Knowing this, Bellabeat should shift their marketing strategy to be more along the lines of being able to help their users achieve healthier fitness and sleeping habits. Beyond this, we can notice that there are some trends in both steps and sleep by day of the week. For example, the average steps taken per day seems to take a lull in the middle of the week from Wednesday until the weekend, and the lowest step count is seen on Sunday. With this in mind, Bellabeat should provide push notifications from their app reminding users to take a quick walk in order to fulfill their daily steps requirements. Similarly, we can see some slight increases in sleep on the weekend, but it takes a dip on the weekdays. Though the recommended 8 hours per day is not being followed, Bellabeat should send extra push notifications during the weekdays to remind users to wind down and try to get to bed early so that they can get their needed sleep.</p>
<div class="tip admonition">
<p class="admonition-title">Key Takeaways:</p>
<ul class="simple">
<li><p>Bellabeat should shift their marketing strategy to be more along the lines of ‘most people don’t have a healthy lifestyle–we can help you achieve one!’</p></li>
<li><p>Bellabeat should provide push notifications through their mobile app to remind users to take a quick walk or to get to bed early particularly during the weekdays since the majority of users are not following healthy fitness and health habits.</p></li>
</ul>
</div>
<section id="daily-sleep-analysis">
<h4>5.2.2 Daily Sleep Analysis<a class="headerlink" href="#daily-sleep-analysis" title="Permalink to this headline">#</a></h4>
<p>Delving a bit further with regards to the sleep data, we can analyze to see the quality of sleep per day of the week.<br />
Using the <code class="docutils literal notranslate"><span class="pre">df_min_sleep</span></code> dataframe, we can analyze the amount of time users are spending asleep, restless, and awake in bed while trying to sleep. We can also see if users are more restless on certain days of the week more than others.</p>
<p>The ‘value’ column has 3 values corresponding to the 3 different sleep states:
1: Asleep
2: Restless
3: Awake in bed</p>
<p>In this case, this visualization will be showing data for a single individual rather than for all individuals, so generalizations based on the data may not be possible, but we can see what the data looks like on an individual basis.<br />
In order to calculate the time spent in each sleep state, adding a ‘date’ column will allow us to make sure that we only check dates where there is actually data for each individual.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_min_sleep</span><span class="p">[</span><span class="s1">&#39;day_of_week&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_min_sleep</span><span class="p">[</span><span class="s1">&#39;date_time&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">day_name</span><span class="p">()</span>
<span class="n">df_min_sleep</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_min_sleep</span><span class="p">[</span><span class="s1">&#39;date_time&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">date</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_min_sleep</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>date_time</th>
      <th>day_of_week</th>
      <th>value</th>
      <th>date</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1503960366</td>
      <td>2016-04-12 02:47:30</td>
      <td>Tuesday</td>
      <td>3</td>
      <td>2016-04-12</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1503960366</td>
      <td>2016-04-12 02:48:30</td>
      <td>Tuesday</td>
      <td>2</td>
      <td>2016-04-12</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1503960366</td>
      <td>2016-04-12 02:49:30</td>
      <td>Tuesday</td>
      <td>1</td>
      <td>2016-04-12</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>And then we can use a function to plot the data with which we can supply a user ID and return their sleep data:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">plot_sleep</span><span class="p">(</span><span class="n">df_min_sleep</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">user_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">repeat_ylabel</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Plots sleep data for a given id</span>
<span class="sd">    </span>
<span class="sd">        Parameters:</span>
<span class="sd">            df_min_sleep (pd.DataFrame): Dataframe with sleep data to plot</span>
<span class="sd">            id (int):                    ID of the user to be analyzed</span>
<span class="sd">            repeat_ylabel (bool):        Whether to repeat y-axis label</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="n">SLEEP_STATE</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Asleep&#39;</span><span class="p">,</span> <span class="s1">&#39;Restless&#39;</span><span class="p">,</span> <span class="s1">&#39;Awake in Bed&#39;</span><span class="p">]</span>

    <span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">nrows</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">ncols</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">22</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> <span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
    <span class="n">user_id</span> <span class="o">=</span> <span class="n">df_min_sleep</span><span class="o">.</span><span class="n">id</span><span class="o">.</span><span class="n">unique</span><span class="p">()[</span><span class="n">user_id</span><span class="p">]</span>
    <span class="n">df_id</span> <span class="o">=</span> <span class="n">df_min_sleep</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">df_min_sleep</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">user_id</span><span class="p">]</span>
    
    <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">ax</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">axes</span><span class="p">):</span>

        <span class="n">minutes</span> <span class="o">=</span> <span class="n">df_id</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">df_id</span><span class="o">.</span><span class="n">value</span> <span class="o">==</span> <span class="n">idx</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;day_of_week&#39;</span><span class="p">)[</span><span class="s1">&#39;value&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
        <span class="n">days</span> <span class="o">=</span> <span class="n">df_id</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;date&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">day_of_week</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>

        <span class="n">days_count</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">days</span><span class="p">)):</span>
            <span class="n">days_count</span><span class="p">[</span><span class="n">days</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]]</span> <span class="o">=</span> <span class="n">days_count</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">days</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span> <span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">minutes</span><span class="o">.</span><span class="n">index</span><span class="p">:</span>
            <span class="n">minutes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">/=</span> <span class="n">days_count</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>

        <span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span>
            <span class="n">orient</span><span class="o">=</span><span class="s1">&#39;h&#39;</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="n">minutes</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">minutes</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> 
            <span class="n">palette</span><span class="o">=</span><span class="s1">&#39;icefire&#39;</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="n">WEEK_ORDER</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">repeat_ylabel</span> <span class="ow">and</span> <span class="n">idx</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">set_yticks</span><span class="p">([])</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">set_tick_params</span><span class="p">(</span><span class="n">length</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span> <span class="n">labelsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="n">xlabel</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;Minutes </span><span class="si">{</span><span class="n">SLEEP_STATE</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">labelpad</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

        <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Minutes </span><span class="si">{</span><span class="n">SLEEP_STATE</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span><span class="si">}</span><span class="s1"> by Day of Week&#39;</span><span class="p">,</span>
                    <span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span> <span class="n">loc</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">pad</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>

        <span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.8</span><span class="p">)</span>
        <span class="n">sns</span><span class="o">.</span><span class="n">despine</span><span class="p">()</span>
    
    <span class="n">fig</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="s1">&#39;Average Minutes Spent in Each Sleep State by Day of the Week&#39;</span><span class="p">,</span> 
                 <span class="n">fontsize</span><span class="o">=</span><span class="mi">22</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="mf">0.123</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mf">1.05</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell tag_full-width docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plot_sleep</span><span class="p">(</span><span class="n">df_min_sleep</span><span class="p">,</span> <span class="n">user_id</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="c1"># plt.savefig(&#39;sleep_indiv.png&#39;, dpi=300, bbox_inches=&#39;tight&#39;)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/bellabeat_analysis_110_0.png" src="../_images/bellabeat_analysis_110_0.png" />
</div>
</div>
<div class="full-width docutils">
<p>We can see that user 0 is only getting about 6 hours of sleep most days, while they sleep in on Sundays. Also, we can see that the user is mostly restless during the weekdays, particularly on Mondays and Thursdays. And finally, we can see that the user doesn’t spend much time in bed awake, though on some particular days there seems to be a bit more time spent awake than others. With all of this information in mind, Bellabeat can market that with their membership service, they will be able to identify key areas of improvement for their users and individualize their suggestions. In particular, they will be able to identify key days where an individual user may be struggling, such as Thursdays for user 0, where they are spending a lot of time restless in bed and end up with little sleep. With these weaknesses identified, Bellabeat will be able to push notifications to the user to encourage them to take a quick walk or get to bed early. Finally, Bellabeat will be able to attract more users to their products and particularly to their subscription membership service, while also improving the sleep quality of their users.</p>
<div class="tip admonition">
<p class="admonition-title">Key Takeaways:</p>
<ul class="simple">
<li><p>Bellabeat should market that signing up for their subscription service will lead to a better sleep quality for their users with individualized suggestions and reminders for each user for every day of the week.</p></li>
</ul>
</div>
</div>
</section>
</section>
<section id="daily-trends-in-steps-and-calories">
<h3>5.3 Daily Trends in Steps and Calories<a class="headerlink" href="#daily-trends-in-steps-and-calories" title="Permalink to this headline">#</a></h3>
<p>We can go on to analyze what time of day users are most likely to be doing activity, resulting in steps and calories burned. With this knowledge, Bellabeat will be able to identify trends in what time of the day users are most likely to be able to do some form of activity and can then provide push notifications to encourage users to start. Also, by understanding the time trends, Bellabeat will be able to better market their fashionable products, as if many users are getting in steps during the middle of the day, this suggests that the users are wearing their smart devices outside to work, etc., and Bellabeat would have the edge in that users may be more likely to wear a fashionable product rather than an unpleasant one sold by competitors.</p>
<p>We can start of by isolating the hours of the day and place them into a new column in <code class="docutils literal notranslate"><span class="pre">df_hour_steps_calories</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_hour_steps_calories</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_hour_steps_calories</span><span class="p">[</span><span class="s1">&#39;date_time&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">t</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%H:%M&#39;</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_hour_steps_calories</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>date_time</th>
      <th>day_of_week</th>
      <th>StepTotal</th>
      <th>Calories</th>
      <th>time</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1503960366</td>
      <td>2016-04-12 00:00:00</td>
      <td>Tuesday</td>
      <td>373</td>
      <td>81</td>
      <td>00:00</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1503960366</td>
      <td>2016-04-12 01:00:00</td>
      <td>Tuesday</td>
      <td>160</td>
      <td>61</td>
      <td>01:00</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1503960366</td>
      <td>2016-04-12 02:00:00</td>
      <td>Tuesday</td>
      <td>151</td>
      <td>59</td>
      <td>02:00</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>And then we can get right to plotting the data:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> <span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;font.size&#39;</span><span class="p">:</span> <span class="mi">14</span><span class="p">})</span>

<span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span>
            <span class="n">data</span><span class="o">=</span><span class="n">df_hour_steps_calories</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;StepTotal&#39;</span><span class="p">,</span> 
            <span class="n">palette</span><span class="o">=</span><span class="s1">&#39;icefire&#39;</span><span class="p">,</span> <span class="n">ci</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span>
            <span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Time&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span> <span class="n">labelpad</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Steps Taken&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span> <span class="n">labelpad</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xticklabels</span><span class="p">(</span><span class="n">ax</span><span class="o">.</span><span class="n">get_xticklabels</span><span class="p">(),</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">45</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;right&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.8</span><span class="p">)</span>

<span class="n">ax2</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">twinx</span><span class="p">()</span>
<span class="n">sns</span><span class="o">.</span><span class="n">lineplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">df_hour_steps_calories</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Calories&#39;</span><span class="p">,</span>
             <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax2</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Calories Burned&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span> <span class="n">labelpad</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">set_yticks</span><span class="p">([</span><span class="mi">74</span><span class="p">,</span> <span class="mi">85</span><span class="p">,</span> <span class="mi">96</span><span class="p">,</span> <span class="mi">107</span><span class="p">,</span> <span class="mi">118</span><span class="p">,</span> <span class="mi">129</span><span class="p">])</span>

<span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="mf">4.3</span><span class="p">,</span> <span class="mi">75</span><span class="p">,</span> <span class="s1">&#39;Calories Burned </span><span class="se">\u2192</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">cm</span><span class="o">.</span><span class="n">Blues</span><span class="p">(</span><span class="mf">0.8</span><span class="p">),</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;right&#39;</span><span class="p">)</span>

<span class="n">sns</span><span class="o">.</span><span class="n">despine</span><span class="p">(</span><span class="n">bottom</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">left</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="s1">&#39;Steps Taken and Calories Burned by Time of Day&#39;</span><span class="p">,</span>
             <span class="n">fontsize</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="mf">0.13</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mf">0.95</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">)</span>

<span class="c1"># plt.savefig(&#39;steps_cal_day.png&#39;, dpi=300, bbox_inches=&#39;tight&#39;)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/bellabeat_analysis_117_0.png" src="../_images/bellabeat_analysis_117_0.png" />
</div>
</div>
<p>We can see that the many of steps are taken around noon and lunchtime before dipping a bit midday, then the majority of steps are taken as the evening approaches. The calories burned seems to follow the number of steps taken quite closely, which is to be expected. Knowing that most steps are taken in the afternoon and evening, Bellabeat will be able to refine when they are sending push notifications to remind users to get their steps in, as they know which time of day their users are most likely to be able to get their steps in. Furthermore, Bellabeat should also focus their marketing on how their products are fashionable and can be worn to stand out everywhere, particularly places where users may be around lunchtime, for example at work or in a restaurant.</p>
<div class="tip admonition">
<p class="admonition-title">Key Takeaways:</p>
<ul class="simple">
<li><p>The majority of steps taken and calories burned occur around noon and in the evening, so Bellabeat should send push notifications to remind users to get their steps in at these times for maximum rates of success.</p></li>
<li><p>Bellabeat should focus their marketing on how their products are fashionable and can be worn proudly at any time of the day, wherever users are.</p></li>
</ul>
</div>
</section>
<section id="daily-time-of-device-usage">
<h3>5.4 Daily Time of Device Usage<a class="headerlink" href="#daily-time-of-device-usage" title="Permalink to this headline">#</a></h3>
<p>Another important metric that we can analyze is the amount of time each day for which users are wearing their device. This will help Bellabeat understand if a long-lasting battery is important to users of smart fitness devices. Beyond this, Bellabeat will also be able to identify whether they should shift their marketing strategy to highlight the long-lasting battery of their products.</p>
<p>We can start off with the <code class="docutils literal notranslate"><span class="pre">df_day_activity_sleep</span></code> dataframe and calculate the percentage of time each day for which users are wearing their device</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">MINUTES_PER_DAY</span> <span class="o">=</span> <span class="mi">24</span> <span class="o">*</span> <span class="mi">60</span>
<span class="n">df_day_activity_sleep</span><span class="p">[</span><span class="s1">&#39;percent_day_worn&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_day_activity_sleep</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="o">-</span><span class="mi">5</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="n">MINUTES_PER_DAY</span>
</pre></div>
</div>
</div>
</div>
<p>Then we can group the data by user ID and calculate the average percent of usage per day</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_worn</span> <span class="o">=</span> <span class="n">df_day_activity_sleep</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;id&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell tag_output_scroll docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_worn</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>TotalSleepRecords</th>
      <th>TotalMinutesAsleep</th>
      <th>TotalTimeInBed</th>
      <th>TotalSteps</th>
      <th>TotalDistance</th>
      <th>VeryActiveMinutes</th>
      <th>FairlyActiveMinutes</th>
      <th>LightlyActiveMinutes</th>
      <th>SedentaryMinutes</th>
      <th>Calories</th>
      <th>percent_day_worn</th>
    </tr>
    <tr>
      <th>id</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1503960366</th>
      <td>1.08</td>
      <td>360.28</td>
      <td>383.2</td>
      <td>12405.68</td>
      <td>7.971200</td>
      <td>37.92</td>
      <td>20.280000</td>
      <td>233.12</td>
      <td>759.280000</td>
      <td>1872.280000</td>
      <td>0.729583</td>
    </tr>
    <tr>
      <th>1644430081</th>
      <td>1.00</td>
      <td>294.00</td>
      <td>346.0</td>
      <td>7967.75</td>
      <td>5.792500</td>
      <td>2.50</td>
      <td>19.500000</td>
      <td>241.25</td>
      <td>920.500000</td>
      <td>2977.750000</td>
      <td>0.822049</td>
    </tr>
    <tr>
      <th>1844505072</th>
      <td>1.00</td>
      <td>652.00</td>
      <td>961.0</td>
      <td>3477.00</td>
      <td>2.303333</td>
      <td>0.00</td>
      <td>2.333333</td>
      <td>145.00</td>
      <td>443.333333</td>
      <td>1676.333333</td>
      <td>0.410185</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Similar to what we did for the earlier plot in 5.1, we can once again classify the data into three categories for how long the user wears their device each day:</p>
<ol class="simple">
<li><p>Device is worn &gt;= 90% of the day - All Day</p></li>
<li><p>Device is worn &gt; 50% of the day - Most of the Day</p></li>
<li><p>Device is worn &lt;= 50% of the day - Part of the Day</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">condlist</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">df_worn</span><span class="o">.</span><span class="n">percent_day_worn</span> <span class="o">&gt;=</span> <span class="mf">0.9</span><span class="p">,</span>
            <span class="n">df_worn</span><span class="o">.</span><span class="n">percent_day_worn</span> <span class="o">&gt;</span> <span class="mf">0.5</span><span class="p">,</span>
            <span class="n">df_worn</span><span class="o">.</span><span class="n">percent_day_worn</span> <span class="o">&lt;=</span> <span class="mf">0.5</span>            
            <span class="p">]</span>
<span class="n">choicelist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;All Day&#39;</span><span class="p">,</span> <span class="s1">&#39;Most of the Day&#39;</span><span class="p">,</span> <span class="s1">&#39;Part of the Day&#39;</span><span class="p">]</span>
<span class="n">df_worn</span><span class="p">[</span><span class="s1">&#39;day_wear&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">condlist</span><span class="p">,</span> <span class="n">choicelist</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_info</span><span class="p">(</span><span class="n">df_worn</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>df:
 	Columns: [&#39;TotalSleepRecords&#39;, &#39;TotalMinutesAsleep&#39;, &#39;TotalTimeInBed&#39;, &#39;TotalSteps&#39;, &#39;TotalDistance&#39;, &#39;VeryActiveMinutes&#39;, &#39;FairlyActiveMinutes&#39;, &#39;LightlyActiveMinutes&#39;, &#39;SedentaryMinutes&#39;, &#39;Calories&#39;, &#39;percent_day_worn&#39;, &#39;day_wear&#39;]
 	Shape: (24, 12)
 	Duplicate rows: 0
 	Missing values: 0
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_worn</span><span class="o">.</span><span class="n">day_wear</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>id
1503960366    Most of the Day
1644430081    Most of the Day
1844505072    Part of the Day
Name: day_wear, dtype: object
</pre></div>
</div>
</div>
</div>
<p>Then we can get what percent of the data fits into each category</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_pct_worn</span> <span class="o">=</span> <span class="n">df_worn</span><span class="o">.</span><span class="n">day_wear</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_pct_worn</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>index</th>
      <th>day_wear</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Most of the Day</td>
      <td>0.833333</td>
    </tr>
    <tr>
      <th>1</th>
      <td>All Day</td>
      <td>0.125000</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Part of the Day</td>
      <td>0.041667</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>And we are ready to plot the data:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">12</span><span class="p">),</span> <span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;font.size&#39;</span><span class="p">:</span> <span class="mi">20</span><span class="p">})</span>
<span class="n">labels</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Most of the Day&#39;</span><span class="p">,</span> <span class="s1">&#39;All Day&#39;</span><span class="p">,</span> <span class="s1">&#39;Part of the Day&#39;</span><span class="p">]</span>

<span class="n">plt</span><span class="o">.</span><span class="n">pie</span><span class="p">(</span>
        <span class="n">df_pct_worn</span><span class="o">.</span><span class="n">day_wear</span><span class="p">,</span> <span class="n">startangle</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="n">labels</span><span class="p">,</span>
        <span class="n">autopct</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%1.1f%%</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">pctdistance</span><span class="o">=</span><span class="mf">0.85</span><span class="p">,</span> <span class="n">colors</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">cm</span><span class="o">.</span><span class="n">Greens_r</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">75</span><span class="p">,</span> <span class="mi">226</span><span class="p">,</span> <span class="mi">75</span><span class="p">)),</span>
        <span class="n">wedgeprops</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;linewidth&#39;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span> <span class="s1">&#39;edgecolor&#39;</span><span class="p">:</span> <span class="s1">&#39;white&#39;</span><span class="p">}</span>
        <span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">add_artist</span><span class="p">(</span><span class="n">plt</span><span class="o">.</span><span class="n">Circle</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="mf">0.7</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">))</span>
<span class="n">fig</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="s1">&#39;Time With Device</span><span class="se">\n</span><span class="s1">Worn Per Day&#39;</span><span class="p">,</span> 
             <span class="n">x</span><span class="o">=</span><span class="mf">0.52</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">)</span>

<span class="c1"># plt.savefig(&#39;use_pct.png&#39;, dpi=300, bbox_inches=&#39;tight&#39;)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/bellabeat_analysis_133_0.png" src="../_images/bellabeat_analysis_133_0.png" />
</div>
</div>
<p>We can see that the majority of users are wearing their device most of the day or all day, but there are a few users who are wearing their device for less than 50% of the day. This is a good indication that Bellabeat should focus their marketing on how their devices can easily last all-day, as this will attract the most users to their products. Beyond this, it is also important to note that should Bellabeat develop a new device with a touchscreen, they should remember the importance of having a long-lasting battery, as the vast majority of users will be using their device for a very significant portion of the day, and consumers will look at battery life as a key factor in determining their purchase.</p>
<div class="tip admonition">
<p class="admonition-title">Key Takeaways:</p>
<ul class="simple">
<li><p>Bellabeat should focus their marketing on how their devices can easily last all-day, as users appear to use their device for a significant portion of the day.</p></li>
<li><p>Bellabeat should keep in mind that the long-lasting battery of their devices is important to their users, and any future products that may be developed should have a long-lasting battery.</p></li>
</ul>
</div>
</section>
</section>
<section id="act">
<h2>6. Act<a class="headerlink" href="#act" title="Permalink to this headline">#</a></h2>
<!-- <a name='Act-Phase'></a><h3 style="color:#FA8072">6. Act Phase:</h3> --><p>Returning to our business questions:</p>
<ol class="simple">
<li><p>What are some trends in smart device usage?</p></li>
<li><p>How could these trends apply to Bellabeat customers?</p></li>
<li><p>How could these trends help influence Bellabeat’s marketing strategy?</p></li>
</ol>
<p>With all of the analysis that we have done, and an emphasis on data-driven decision making, I would recommend the following for Bellabeat:</p>
<p><strong>1. Increase marketing towards sedentary and lightly active demographics.</strong></p>
<p>With the Fitbit users, we were able to recognize that a majority of users (58.3%) classify under ‘sedentary’ or ‘lightly active’ demographics. Even though their products may be most tailored towards highly active individuals, the data suggests that the users buying these products are not always active. In order to maximize sales of their products, broadening their approach to wider demographics can bring in more customers for their products, which down the line can lead to increased membership purchases and even more increased revenue.</p>
<p><strong>2. Market more towards the idea that Bellabeat devices can improve fitness, health, and sleep quality.</strong></p>
<aside class="margin sidebar">
<p class="sidebar-title"></p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>The Mayo Clinic recommends taking <a class="reference external" href="https://www.mayoclinic.org/healthy-lifestyle/fitness/in-depth/10000-steps/art-20317391">10,000 steps per day</a> as a healthy lifestyle measure to reduce the risk of many diseases. The CDC recommends <a class="reference external" href="https://www.cdc.gov/diabetes/library/spotlights/workout-buddy.html">having a workout buddy</a> to help you stay motivated in your workouts.</p>
</div>
</aside>
<p>The majority of Fitbit users were not reaching the recommended 10,000 steps per day, nor were they sleeping for the recommended 8 hours per day, particularly on weekdays. With this in mind, Bellabeat should include in their marketing that most people are not following healthy guidelines right now, but with a Bellabeat product and membership, Bellabeat will be able to help them reach their health and fitness goals. Some examples of how Bellabeat may help their members and attract more customers may include:</p>
<ul class="simple">
<li><p>using push notifications through the Bellabeat app to remind users to get their steps in and go to bed early</p></li>
<li><p>use the app to create a type of social environment where users can come together to compete for fitness goals</p></li>
<li><p>personalized advice for higher quality sleep for users recognized as having a low sleep quality</p></li>
<li><p>develop a smart watch with a touch screen that will track workout data and easily remind users with notifications without having to pull their phones out</p></li>
</ul>
<p><strong>3. Put more emphasis on the fashionable aspects of Bellabeat products as well as their long-lasting batteries.</strong></p>
<p>The data shows that, on average, the Fitbit users are wearing their devices for the vast majority of the day, including during periods when they are out in public. As a result, emphasizing the great looks of the Bellabeat products will entice potential customers, as customers are looking for a device they can be proud to wear all day. Furthermore, since the users are wearing their devices for long periods of time each day, marketing the long-lasting batteries of Bellabeat products with greater significance will also help to attract more customers, as customers are placing great value on the battery life of their devices. With this in mind, if Bellabeat develops any new products, this value on battery life should be considered every step of the way, such as with a potential new smart watch with a touchscreen.</p>
<p><strong>Thank you for reading through this case study!</strong></p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./bellabeat_case_study"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="bellabeat.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Bellabeat Case Study</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="../archived_projects/note.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Note About Archived Projects</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Fahmi I.<br/>
  
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>